{"ast":null,"code":"var _jsxFileName = \"/Users/patrickgoldstein/Documents/550/Final Project/Beta/client/src/pages/HomePage.js\";\nimport React, { useState } from 'react';\nimport { Table, Card, Pagination, Select } from 'antd';\nimport '../assets/scss/card.scss';\nimport MenuBar from '../components/MenuBar';\nimport DisplayCards from '../components/DisplayCards';\nimport Login from '../components/Login';\nimport { getCorrectnessRateSubject, getCorrectnessByUser, getWeaknessStrength, getCorrectnessRateQuestion } from '../fetcher';\nimport LoginForm from '../components/LoginForm';\nimport Button from '../components/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Column,\n  ColumnGroup\n} = Table;\nconst {\n  Option\n} = Select;\nlet weakness = \"Enter UserID\";\nlet strength = \"Enter UserID\";\n\nclass HomePage extends React.Component {\n  constructor(props) {\n    super(props); //In JS, functions are objects. They have methods, such as bind.\n    //Bind method returns new instance of addLoginHandler function.\n    //In the function, this references current instance.\n    //this.addLoginHandler is set to new instance of method returned by bind method \n\n    this.state = {\n      weaknessStrength: [],\n      correctnessBySubject: [],\n      pagination: null,\n      userID: 0,\n      authentication: false\n    };\n    this.addLoginHandler = this.addLoginHandler.bind(this);\n    this.goToTest = this.goToTest.bind(this);\n    this.updateWeaknessStrength = this.updateWeaknessStrength.bind(this);\n  }\n\n  componentDidMount() {\n    getWeaknessStrength(this.state.userID).then(res => {\n      //console.log(res.results)\n      this.setState({\n        weaknessStrength: res.results\n      }); // TASK 1: set the correct state attribute to res.results\n    });\n    getCorrectnessRateSubject().then(res => {\n      this.setState({\n        correctnessBySubject: res.results\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.userID !== prevState.userID) {\n      getWeaknessStrength(this.state.userID).then(res => {\n        //console.log(res.results)\n        this.setState({\n          weaknessStrength: res.results\n        }); // TASK 1: set the correct state attribute to res.results\n\n        if (this.state.weaknessStrength[0] !== undefined) {\n          weakness = this.state.weaknessStrength[0].MinCorrectSubject;\n          strength = this.state.weaknessStrength[0].MaxCorrectSubject;\n        }\n      });\n    }\n  }\n\n  addLoginHandler(loginData) {\n    this.setState({\n      userID: loginData.userID\n    });\n    this.authentication = true;\n    this.updateWeaknessStrength();\n  }\n\n  updateWeaknessStrength() {\n    getWeaknessStrength();\n  }\n\n  goToTest() {\n    window.location = `/test?id=${this.state.userID}`;\n  }\n\n  render() {\n    let button;\n\n    if (!this.authentication) {\n      button = /*#__PURE__*/_jsxDEV(LoginForm, {\n        onLogin: this.addLoginHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 16\n      }, this);\n    } else {\n      button = /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Welcome Back!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 16\n      }, this);\n\n      if (this.state.weaknessStrength[0] !== undefined) {\n        weakness = this.state.weaknessStrength[0].MinCorrectSubject;\n        strength = this.state.weaknessStrength[0].MaxCorrectSubject;\n      }\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(MenuBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '70vw',\n          margin: '0 auto',\n          marginTop: '5vh'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(DisplayCards, {\n            title: \"User ID\",\n            textBody: this.state.userID\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 16\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(DisplayCards, {\n            title: strength,\n            textBody: \"Strongest Subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 16\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(DisplayCards, {\n            title: weakness,\n            textBody: \"Weakest Subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 16\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: button\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LoginForm, {\n          onLogin: this.addLoginHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.goToTest,\n          children: \"Click here to test!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/patrickgoldstein/Documents/550/Final Project/Beta/client/src/pages/HomePage.js"],"names":["React","useState","Table","Card","Pagination","Select","MenuBar","DisplayCards","Login","getCorrectnessRateSubject","getCorrectnessByUser","getWeaknessStrength","getCorrectnessRateQuestion","LoginForm","Button","Column","ColumnGroup","Option","weakness","strength","HomePage","Component","constructor","props","state","weaknessStrength","correctnessBySubject","pagination","userID","authentication","addLoginHandler","bind","goToTest","updateWeaknessStrength","componentDidMount","then","res","setState","results","componentDidUpdate","prevProps","prevState","undefined","MinCorrectSubject","MaxCorrectSubject","loginData","window","location","render","button","width","margin","marginTop"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SACEC,KADF,EAEEC,IAFF,EAGEC,UAHF,EAIEC,MAJF,QAKO,MALP;AAQA,OAAO,0BAAP;AAEA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,SAASC,yBAAT,EAAoCC,oBAApC,EAA0DC,mBAA1D,EAA+EC,0BAA/E,QAAiH,YAAjH;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AACA,MAAM;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,IAA0Bd,KAAhC;AACA,MAAM;AAAEe,EAAAA;AAAF,IAAaZ,MAAnB;AAGA,IAAIa,QAAQ,GAAG,cAAf;AACA,IAAIC,QAAQ,GAAG,cAAf;;AAGA,MAAMC,QAAN,SAAuBpB,KAAK,CAACqB,SAA7B,CAAuC;AASrCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN,EADiB,CAErB;AACA;AACA;AAEA;;AANqB,SAPnBC,KAOmB,GAPX;AACNC,MAAAA,gBAAgB,EAAE,EADZ;AAENC,MAAAA,oBAAoB,EAAE,EAFhB;AAGNC,MAAAA,UAAU,EAAE,IAHN;AAINC,MAAAA,MAAM,EAAE,CAJF;AAKNC,MAAAA,cAAc,EAAE;AALV,KAOW;AAQlB,SAAKC,eAAL,GAAsB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAtB;AAEA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AAEA,SAAKE,sBAAL,GAA8B,KAAKA,sBAAL,CAA4BF,IAA5B,CAAiC,IAAjC,CAA9B;AACA;;AAGDG,EAAAA,iBAAiB,GAAG;AAGlBvB,IAAAA,mBAAmB,CAAC,KAAKa,KAAL,CAAWI,MAAZ,CAAnB,CAAuCO,IAAvC,CAA4CC,GAAG,IAAI;AACjD;AACA,WAAKC,QAAL,CAAc;AAAEZ,QAAAA,gBAAgB,EAAEW,GAAG,CAACE;AAAxB,OAAd,EAFiD,CAGjD;AACD,KAJD;AAMA7B,IAAAA,yBAAyB,GAAG0B,IAA5B,CAAiCC,GAAG,IAAI;AACtC,WAAKC,QAAL,CAAc;AAAEX,QAAAA,oBAAoB,EAAEU,GAAG,CAACE;AAA5B,OAAd;AACD,KAFD;AAID;;AAEDC,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAsB;AAEtC,QAAI,KAAKjB,KAAL,CAAWI,MAAX,KAAsBa,SAAS,CAACb,MAApC,EAA2C;AACzCjB,MAAAA,mBAAmB,CAAC,KAAKa,KAAL,CAAWI,MAAZ,CAAnB,CAAuCO,IAAvC,CAA4CC,GAAG,IAAI;AACjD;AACA,aAAKC,QAAL,CAAc;AAAEZ,UAAAA,gBAAgB,EAAEW,GAAG,CAACE;AAAxB,SAAd,EAFiD,CAGjD;;AAEA,YAAI,KAAKd,KAAL,CAAWC,gBAAX,CAA4B,CAA5B,MAAmCiB,SAAvC,EAAiD;AAC/CxB,UAAAA,QAAQ,GAAG,KAAKM,KAAL,CAAWC,gBAAX,CAA4B,CAA5B,EAA+BkB,iBAA1C;AACAxB,UAAAA,QAAQ,GAAG,KAAKK,KAAL,CAAWC,gBAAX,CAA4B,CAA5B,EAA+BmB,iBAA1C;AACD;AACF,OATD;AAUD;AACF;;AAEDd,EAAAA,eAAe,CAACe,SAAD,EAAY;AAC1B,SAAKR,QAAL,CAAc;AAACT,MAAAA,MAAM,EAAEiB,SAAS,CAACjB;AAAnB,KAAd;AACA,SAAKC,cAAL,GAAsB,IAAtB;AACA,SAAKI,sBAAL;AACF;;AAEDA,EAAAA,sBAAsB,GAAG;AACvBtB,IAAAA,mBAAmB;AACpB;;AAEDqB,EAAAA,QAAQ,GAAG;AACTc,IAAAA,MAAM,CAACC,QAAP,GAAmB,YAAW,KAAKvB,KAAL,CAAWI,MAAO,EAAhD;AACD;;AAICoB,EAAAA,MAAM,GAAG;AACP,QAAIC,MAAJ;;AAEA,QAAI,CAAC,KAAKpB,cAAV,EAA0B;AACxBoB,MAAAA,MAAM,gBAAG,QAAC,SAAD;AAAW,QAAA,OAAO,EAAI,KAAKnB;AAA3B;AAAA;AAAA;AAAA;AAAA,cAAT;AACD,KAFD,MAEO;AACLmB,MAAAA,MAAM,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAT;;AAEA,UAAI,KAAKzB,KAAL,CAAWC,gBAAX,CAA4B,CAA5B,MAAmCiB,SAAvC,EAAiD;AAC/CxB,QAAAA,QAAQ,GAAG,KAAKM,KAAL,CAAWC,gBAAX,CAA4B,CAA5B,EAA+BkB,iBAA1C;AACAxB,QAAAA,QAAQ,GAAG,KAAKK,KAAL,CAAWC,gBAAX,CAA4B,CAA5B,EAA+BmB,iBAA1C;AACD;AAIF;;AAED,wBAGE;AAAA,8BACE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,KAAK,EAAE;AAAEM,UAAAA,KAAK,EAAE,MAAT;AAAiBC,UAAAA,MAAM,EAAE,QAAzB;AAAmCC,UAAAA,SAAS,EAAE;AAA9C;AAAZ;AAAA;AAAA;AAAA;AAAA,cAFF,eAKE;AAAA;AAAA;AAAA;AAAA,cALF,eASE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA,gCACE;AAAA,kCAAK,QAAC,YAAD;AAAc,YAAA,KAAK,EAAC,SAApB;AAA8B,YAAA,QAAQ,EAAE,KAAK5B,KAAL,CAAWI;AAAnD;AAAA;AAAA;AAAA;AAAA,kBAAL;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE;AAAA,kCAAK,QAAC,YAAD;AAAc,YAAA,KAAK,EAAET,QAArB;AAA+B,YAAA,QAAQ,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,kBAAL;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAKE;AAAA,kCAAK,QAAC,YAAD;AAAc,YAAA,KAAK,EAAED,QAArB;AAA+B,YAAA,QAAQ,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA,kBAAL;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF,eAOE;AAAA,oBACG+B;AADH;AAAA;AAAA;AAAA;AAAA,gBAPF,eAWE,QAAC,SAAD;AAAW,UAAA,OAAO,EAAI,KAAKnB;AAA3B;AAAA;AAAA;AAAA;AAAA,gBAXF,eAcE;AAAQ,UAAA,OAAO,EAAG,KAAKE,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdF;AAAA;AAAA;AAAA;AAAA;AAAA,cATF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF;AAsCD;;AA/HoC;;AAmIvC,eAAeZ,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport {\n  Table,\n  Card,\n  Pagination,\n  Select\n} from 'antd'\n\n\nimport '../assets/scss/card.scss'\n\nimport MenuBar from '../components/MenuBar';\nimport DisplayCards from '../components/DisplayCards';\nimport Login from '../components/Login'\nimport { getCorrectnessRateSubject, getCorrectnessByUser, getWeaknessStrength, getCorrectnessRateQuestion } from '../fetcher'\nimport LoginForm from '../components/LoginForm';\nimport Button from '../components/Button'\nconst { Column, ColumnGroup } = Table;\nconst { Option } = Select;\n\n\nlet weakness = \"Enter UserID\";\nlet strength = \"Enter UserID\";\n\n\nclass HomePage extends React.Component {\n\n  state = {\n    weaknessStrength: [],\n    correctnessBySubject: [],\n    pagination: null,\n    userID: 0,\n    authentication: false,\n  }\n  constructor(props) {\n    super(props)\n//In JS, functions are objects. They have methods, such as bind.\n//Bind method returns new instance of addLoginHandler function.\n//In the function, this references current instance.\n\n//this.addLoginHandler is set to new instance of method returned by bind method \n\n   this.addLoginHandler= this.addLoginHandler.bind(this);\n\n   this.goToTest = this.goToTest.bind(this);\n\n   this.updateWeaknessStrength = this.updateWeaknessStrength.bind(this);\n  }\n\n  \n  componentDidMount() {\n\n\n    getWeaknessStrength(this.state.userID).then(res => {\n      //console.log(res.results)\n      this.setState({ weaknessStrength: res.results })\n      // TASK 1: set the correct state attribute to res.results\n    })\n\n    getCorrectnessRateSubject().then(res => {\n      this.setState({ correctnessBySubject: res.results })\n    })\n\n  }\n\n  componentDidUpdate(prevProps, prevState){\n\n    if (this.state.userID !== prevState.userID){\n      getWeaknessStrength(this.state.userID).then(res => {\n        //console.log(res.results)\n        this.setState({ weaknessStrength: res.results })\n        // TASK 1: set the correct state attribute to res.results\n\n        if (this.state.weaknessStrength[0] !== undefined){\n          weakness = this.state.weaknessStrength[0].MinCorrectSubject;\n          strength = this.state.weaknessStrength[0].MaxCorrectSubject;\n        }\n      })\n    }\n  }\n\n  addLoginHandler(loginData) {\n   this.setState({userID: loginData.userID });\n   this.authentication = true;\n   this.updateWeaknessStrength();\n}\n\nupdateWeaknessStrength() {\n  getWeaknessStrength();\n}\n\ngoToTest() {\n  window.location = `/test?id=${this.state.userID}`;\n}\n\n\n\n  render() {\n    let button;\n\n    if (!this.authentication) {\n      button = <LoginForm onLogin = {this.addLoginHandler} />;\n    } else {\n      button = <h2>Welcome Back!</h2>;\n\n      if (this.state.weaknessStrength[0] !== undefined){\n        weakness = this.state.weaknessStrength[0].MinCorrectSubject;\n        strength = this.state.weaknessStrength[0].MaxCorrectSubject;\n      }\n\n\n\n    }\n     \n    return (\n\n\n      <div>\n        <MenuBar />\n        <div style={{ width: '70vw', margin: '0 auto', marginTop: '5vh' }}>\n        </div>\n\n        <div>\n        </div>\n\n\n        <div className=\"wrapper\">\n          <div><DisplayCards title=\"User ID\" textBody={this.state.userID} /> </div>\n\n          <div><DisplayCards title={strength} textBody=\"Strongest Subject\" /> </div>\n\n          <div><DisplayCards title={weakness} textBody=\"Weakest Subject\" /> </div>\n\n          <div>\n            {button}\n          </div>\n\n          <LoginForm onLogin = {this.addLoginHandler}/>\n\n\n          <button onClick= {this.goToTest}>Click here to test!</button>\n\n\n\n        </div>\n\n\n\n      </div>\n\n\n    )\n  }\n\n}\n\nexport default HomePage\n\n"]},"metadata":{},"sourceType":"module"}